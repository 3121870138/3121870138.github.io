{"version":3,"file":"static/js/443.a1ffc599.chunk.js","mappings":"gOAAA,MAeA,EAfc,CACZ,CACEA,SAAU,QACVC,SAAU,SACVC,KAAM,QACNC,MAAO,eAET,CACEH,SAAU,OACVC,SAAU,SACVC,KAAM,OACNC,MAAO,c,mLCHX,MAoEA,EApEcC,KACZ,MAAMC,GAAWC,EAAAA,EAAAA,OACVC,EAASC,IAAcC,EAAAA,EAAAA,WAAS,IAChCC,IAAsBD,EAAAA,EAAAA,WAAS,IAC/BE,IAAaF,EAAAA,EAAAA,UAAS,CAC3BT,SAAU,QACVC,SAAU,WA2BZ,OACEW,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAOC,eAAeC,UAEpCC,EAAAA,EAAAA,MAACC,EAAAA,EAAI,CAACL,UAAWC,EAAOK,UAAUH,SAAA,EAChCC,EAAAA,EAAAA,MAAA,OAAKJ,UAAWC,EAAOM,YAAYJ,SAAA,EACjCJ,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAOO,KAAKL,UAC1BJ,EAAAA,EAAAA,KAAA,OAAKU,IAAI,YAAYC,IAAI,YAE3BX,EAAAA,EAAAA,KAAA,MAAAI,SAAI,iCAGNC,EAAAA,EAAAA,MAACO,EAAAA,EAAI,CACHC,KAAK,QACLC,SApCYC,UAClB,IACEnB,GAAW,GAEX,MAAMoB,EAAOC,EAAAA,QAAMC,MAAKC,GAAQA,EAAK/B,WAAagC,EAAOhC,UAAY+B,EAAK9B,WAAa+B,EAAO/B,WAE1F2B,IACFK,EAAAA,EAAAA,IAASL,EAAKzB,OACd+B,EAAAA,GAAQC,QAAQ,kCAEhBC,YAAW,KACT/B,EAAS,IAAK,CAAEgC,SAAS,GAAO,GAC/B,MAEHH,EAAAA,GAAQI,MAAM,yDAElB,CAAE,MAAOA,GACPJ,EAAAA,GAAQI,MAAM,yDAChB,CAAC,QACC9B,GAAW,EACb,GAiBM+B,KAAK,QACLC,cAAe9B,EAAqBC,EAAY,KAAKK,SAAA,EACrDJ,EAAAA,EAAAA,KAACY,EAAAA,EAAKiB,KAAI,CAAChB,KAAK,WAAWiB,MAAO,CAAC,CAAEC,UAAU,EAAMT,QAAS,+CAAalB,UACzEJ,EAAAA,EAAAA,KAACgC,EAAAA,EAAK,CAACC,QAAQjC,EAAAA,EAAAA,KAACkC,EAAAA,EAAY,CAACjC,UAAWC,EAAOiC,aAAgBC,YAAatC,EAAqB,uBAAQC,EAAUX,WAAa,4CAGlIY,EAAAA,EAAAA,KAACY,EAAAA,EAAKiB,KAAI,CAAChB,KAAK,WAAWiB,MAAO,CAAC,CAAEC,UAAU,EAAMT,QAAS,yCAAYlB,UACxEJ,EAAAA,EAAAA,KAACgC,EAAAA,EAAMK,SAAQ,CAACJ,QAAQjC,EAAAA,EAAAA,KAACsC,EAAAA,EAAY,CAACrC,UAAWC,EAAOiC,aAAiBC,YAAatC,EAAqB,iBAAOC,EAAUV,WAAa,sCAG3IW,EAAAA,EAAAA,KAACY,EAAAA,EAAKiB,KAAI,CAAAzB,UACRJ,EAAAA,EAAAA,KAACuC,EAAAA,GAAM,CAACC,KAAK,UAAUC,SAAS,SAAS9C,QAASA,EAAS+C,OAAK,EAACzC,UAAWC,EAAOyC,YAAYvC,SAAC,0BAMlG,C","sources":["pages/Login/users.js","pages/Login/index.jsx"],"sourcesContent":["const users = [\n  {\n    username: 'admin',\n    password: '123456',\n    role: 'admin',\n    token: 'admin-token'\n  },\n  {\n    username: 'user',\n    password: '123456',\n    role: 'user',\n    token: 'user-token'\n  }\n];\n\nexport default users; ","import React, { useState } from 'react'\nimport { Form, Input, Button, message, Card } from 'antd'\nimport { UserOutlined, LockOutlined } from '@ant-design/icons'\nimport { useNavigate } from 'react-router-dom'\nimport users from './users'\nimport { setToken } from '@/utils/auth'\nimport styles from './index.module.less'\n\nconst Login = () => {\n  const navigate = useNavigate()\n  const [loading, setLoading] = useState(false)\n  const [isOpenDefaultLogin] = useState(false)\n  const [loginInfo] = useState({\n    username: 'admin',\n    password: '123456'\n  })\n\n  // 处理登录\n  const handleLogin = async values => {\n    try {\n      setLoading(true)\n      // 模拟登录请求\n      const user = users.find(item => item.username === values.username && item.password === values.password)\n\n      if (user) {\n        setToken(user.token)\n        message.success('登录成功！')\n        // 确保使用 replace 模式跳转\n        setTimeout(() => {\n          navigate('/', { replace: true })\n        }, 100)\n      } else {\n        message.error('用户名或密码错误！')\n      }\n    } catch (error) {\n      message.error('登录失败，请重试！')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div className={styles.loginContainer}>\n\n      <Card className={styles.loginCard}>\n        <div className={styles.loginHeader}>\n          <div className={styles.logo}>\n            <img src=\"/logo.png\" alt=\"logo\" />\n          </div>\n          <h2>系统登录</h2>\n        </div>\n\n        <Form\n          name=\"login\"\n          onFinish={handleLogin}\n          size=\"large\"\n          initialValues={isOpenDefaultLogin ? loginInfo : null}>\n          <Form.Item name=\"username\" rules={[{ required: true, message: '请输入用户名！' }]}>\n            <Input prefix={<UserOutlined className={styles.prefixIcon} />} placeholder={isOpenDefaultLogin ? `用户名: ${loginInfo.username}` : '请输入用户名'} />\n          </Form.Item>\n\n          <Form.Item name=\"password\" rules={[{ required: true, message: '请输入密码！' }]}>\n            <Input.Password prefix={<LockOutlined className={styles.prefixIcon} />}  placeholder={isOpenDefaultLogin ? `密码: ${loginInfo.password}` : '请输入密码'}/>\n          </Form.Item>\n\n          <Form.Item>\n            <Button type=\"primary\" htmlType=\"submit\" loading={loading} block className={styles.loginButton}>\n              登录\n            </Button>\n          </Form.Item>\n        </Form>\n      </Card>\n    </div>\n  )\n}\n\nexport default Login\n"],"names":["username","password","role","token","Login","navigate","useNavigate","loading","setLoading","useState","isOpenDefaultLogin","loginInfo","_jsx","className","styles","loginContainer","children","_jsxs","Card","loginCard","loginHeader","logo","src","alt","Form","name","onFinish","async","user","users","find","item","values","setToken","message","success","setTimeout","replace","error","size","initialValues","Item","rules","required","Input","prefix","UserOutlined","prefixIcon","placeholder","Password","LockOutlined","Button","type","htmlType","block","loginButton"],"sourceRoot":""}